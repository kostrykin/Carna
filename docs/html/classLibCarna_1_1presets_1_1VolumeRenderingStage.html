<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LibCarna: LibCarna::presets::VolumeRenderingStage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doc_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">LibCarna<span id="projectnumber">&#160;Version 3.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>LibCarna</b></li><li class="navelem"><a class="el" href="namespaceLibCarna_1_1presets.html">presets</a></li><li class="navelem"><a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html">VolumeRenderingStage</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classLibCarna_1_1presets_1_1VolumeRenderingStage-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">LibCarna::presets::VolumeRenderingStage Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Defines abstract base class for <a class="el" href="classLibCarna_1_1base_1_1RenderStage.html">rendering stages</a> that render volume geometries in the scene.  
 <a href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="VolumeRenderingStage_8hpp_source.html">VolumeRenderingStage.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for LibCarna::presets::VolumeRenderingStage:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classLibCarna_1_1presets_1_1VolumeRenderingStage__inherit__graph.png" border="0" usemap="#aLibCarna_1_1presets_1_1VolumeRenderingStage_inherit__map" alt="Inheritance graph"/></div>
<map name="aLibCarna_1_1presets_1_1VolumeRenderingStage_inherit__map" id="aLibCarna_1_1presets_1_1VolumeRenderingStage_inherit__map">
<area shape="rect" title="Defines abstract base class for rendering stages that render volume geometries in the scene." alt="" coords="501,101,676,141"/>
<area shape="rect" href="classLibCarna_1_1presets_1_1DRRStage.html" title="Renders digital radiograph reconstructs of volume geometries in the scene." alt="" coords="733,5,875,45"/>
<area shape="poly" title=" " alt="" coords="642,93,723,55,751,43,753,48,725,60,644,98"/>
<area shape="rect" href="classLibCarna_1_1presets_1_1DVRStage.html" title="Performs direct volume renderings of the volume geometries in the scene." alt="" coords="733,69,875,109"/>
<area shape="poly" title=" " alt="" coords="689,104,732,97,733,103,690,109"/>
<area shape="rect" href="classLibCarna_1_1presets_1_1MIPStage.html" title="Renders maximum intensity projections of volume geometries in the scene." alt="" coords="733,133,875,173"/>
<area shape="poly" title=" " alt="" coords="690,134,733,140,732,145,689,139"/>
<area shape="rect" href="classLibCarna_1_1presets_1_1MaskRenderingStage.html" title="Renders 3D masks." alt="" coords="724,197,884,237"/>
<area shape="poly" title=" " alt="" coords="644,145,725,183,753,195,751,200,723,188,642,150"/>
<area shape="rect" href="classLibCarna_1_1base_1_1GeometryStage.html" title=" " alt="" coords="263,94,453,149"/>
<area shape="poly" title=" " alt="" coords="467,119,501,119,501,124,467,124"/>
<area shape="rect" href="classLibCarna_1_1base_1_1RenderStage.html" title="Base abstract class of each rendering stage. Refer to the documentation of the rendering process." alt="" coords="5,109,215,134"/>
<area shape="poly" title=" " alt="" coords="229,119,262,119,262,124,229,124"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for LibCarna::presets::VolumeRenderingStage:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classLibCarna_1_1presets_1_1VolumeRenderingStage__coll__graph.png" border="0" usemap="#aLibCarna_1_1presets_1_1VolumeRenderingStage_coll__map" alt="Collaboration graph"/></div>
<map name="aLibCarna_1_1presets_1_1VolumeRenderingStage_coll__map" id="aLibCarna_1_1presets_1_1VolumeRenderingStage_coll__map">
<area shape="rect" title="Defines abstract base class for rendering stages that render volume geometries in the scene." alt="" coords="563,27,737,67"/>
<area shape="rect" href="classLibCarna_1_1base_1_1GeometryStage.html" title=" " alt="" coords="323,20,513,75"/>
<area shape="poly" title=" " alt="" coords="528,45,562,45,562,50,528,50"/>
<area shape="rect" href="classLibCarna_1_1base_1_1RenderStage.html" title="Base abstract class of each rendering stage. Refer to the documentation of the rendering process." alt="" coords="27,5,236,31"/>
<area shape="poly" title=" " alt="" coords="250,27,323,35,322,40,249,33"/>
<area shape="rect" href="classLibCarna_1_1base_1_1RenderQueue.html" title=" " alt="" coords="5,55,257,95"/>
<area shape="poly" title=" " alt="" coords="271,59,322,54,323,59,271,64"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acc83aa9902cf125fa308d82990f9b257" id="r_acc83aa9902cf125fa308d82990f9b257"><td class="memItemLeft" align="right" valign="top"><a id="acc83aa9902cf125fa308d82990f9b257" name="acc83aa9902cf125fa308d82990f9b257"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>VolumeRenderingStage</b> (unsigned int <a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#afeebd7b9da40b1991d481fc543cb4572">geometryType</a>)</td></tr>
<tr class="memdesc:acc83aa9902cf125fa308d82990f9b257"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiates. The created stage will render such <a class="el" href="classLibCarna_1_1base_1_1Geometry.html">base::Geometry</a> scene graph nodes, whose <a class="el" href="index.html#GeometryTypes">geometry types</a> equal <em>geometryType</em>. <br /></td></tr>
<tr class="separator:acc83aa9902cf125fa308d82990f9b257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b21b878e49b95898cb8e0171e28468b" id="r_a2b21b878e49b95898cb8e0171e28468b"><td class="memItemLeft" align="right" valign="top"><a id="a2b21b878e49b95898cb8e0171e28468b" name="a2b21b878e49b95898cb8e0171e28468b"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><b>~VolumeRenderingStage</b> ()</td></tr>
<tr class="memdesc:a2b21b878e49b95898cb8e0171e28468b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes. <br /></td></tr>
<tr class="separator:a2b21b878e49b95898cb8e0171e28468b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c641ce29e3436edfc4d05513782227" id="r_ac4c641ce29e3436edfc4d05513782227"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#ac4c641ce29e3436edfc4d05513782227">setSampleRate</a> (unsigned int <a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#a6c53497679806e20b07823446ae42e84">sampleRate</a>)</td></tr>
<tr class="memdesc:ac4c641ce29e3436edfc4d05513782227"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets number of slices to be rendered per segment.  <br /></td></tr>
<tr class="separator:ac4c641ce29e3436edfc4d05513782227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c53497679806e20b07823446ae42e84" id="r_a6c53497679806e20b07823446ae42e84"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#a6c53497679806e20b07823446ae42e84">sampleRate</a> () const</td></tr>
<tr class="memdesc:a6c53497679806e20b07823446ae42e84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells number of slices to be rendered per segment.  <br /></td></tr>
<tr class="separator:a6c53497679806e20b07823446ae42e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0b999e645d2e95158f613ebbe9777f0" id="r_ae0b999e645d2e95158f613ebbe9777f0"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#ae0b999e645d2e95158f613ebbe9777f0">renderPass</a> (const <a class="el" href="namespaceLibCarna_1_1base_1_1math.html#a7269ffe513faf029197d2a22e38f18ed">base::math::Matrix4f</a> &amp;viewTransform, <a class="el" href="classLibCarna_1_1base_1_1RenderTask.html">base::RenderTask</a> &amp;rt, const <a class="el" href="classLibCarna_1_1base_1_1Viewport.html">base::Viewport</a> &amp;vp) override</td></tr>
<tr class="memdesc:ae0b999e645d2e95158f613ebbe9777f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers the <a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#VolumeRenderingApproach">volume rendering</a>.  <br /></td></tr>
<tr class="separator:ae0b999e645d2e95158f613ebbe9777f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classLibCarna_1_1base_1_1GeometryStage"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classLibCarna_1_1base_1_1GeometryStage')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html">LibCarna::base::GeometryStage&lt; base::Renderable::BackToFront &gt;</a></td></tr>
<tr class="memitem:ae664e79826b92149e367ea760e92fe48 inherit pub_methods_classLibCarna_1_1base_1_1GeometryStage" id="r_ae664e79826b92149e367ea760e92fe48"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#ae664e79826b92149e367ea760e92fe48">GeometryStage</a> (<a class="el" href="classLibCarna_1_1base_1_1Association.html">unsigned</a> <a class="el" href="classLibCarna_1_1base_1_1Association.html">int</a> geometryType, <a class="el" href="classLibCarna_1_1base_1_1Association.html">unsigned</a> <a class="el" href="classLibCarna_1_1base_1_1Association.html">int</a> geometryTypeMask=<a class="el" href="classLibCarna_1_1base_1_1RenderQueue.html">RenderQueue</a>&lt; <a class="el" href="classLibCarna_1_1base_1_1Renderable.html#a763a73f58499978ca5e1808c6d1f873a">base::Renderable::BackToFront</a> &gt;::EXACT_MATCH_GEOMETRY_TYPE_MASK)</td></tr>
<tr class="memdesc:ae664e79826b92149e367ea760e92fe48 inherit pub_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiates s.t. the <a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#a1b7295cef301d66e995ef6662d479e7a">predefined rendering queue</a> enqueues such <a class="el" href="classLibCarna_1_1base_1_1Geometry.html">LibCarna::base::Geometry</a> scene graph nodes, whose geometry type <em>AND</em>-linked with <em>geometryTypeMask</em> equals the <em>geometryType</em> specified here.  <br /></td></tr>
<tr class="separator:ae664e79826b92149e367ea760e92fe48 inherit pub_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a511cd32e575c4625b2ef6f5bf00f73d6 inherit pub_methods_classLibCarna_1_1base_1_1GeometryStage" id="r_a511cd32e575c4625b2ef6f5bf00f73d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLibCarna_1_1base_1_1Association.html">virtual</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#a511cd32e575c4625b2ef6f5bf00f73d6">~GeometryStage</a> ()</td></tr>
<tr class="memdesc:a511cd32e575c4625b2ef6f5bf00f73d6 inherit pub_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases acquired video resources.  <br /></td></tr>
<tr class="separator:a511cd32e575c4625b2ef6f5bf00f73d6 inherit pub_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62f4074ed593a038df8a287aa12edcf6 inherit pub_methods_classLibCarna_1_1base_1_1GeometryStage" id="r_a62f4074ed593a038df8a287aa12edcf6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLibCarna_1_1base_1_1Association.html">virtual</a> <a class="el" href="classLibCarna_1_1base_1_1Association.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#a62f4074ed593a038df8a287aa12edcf6">prepareFrame</a> (<a class="el" href="classLibCarna_1_1base_1_1Node.html">Node</a> &amp;root) <a class="el" href="classLibCarna_1_1base_1_1Association.html">override</a></td></tr>
<tr class="memdesc:a62f4074ed593a038df8a287aa12edcf6 inherit pub_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called once before each frame.    <br /></td></tr>
<tr class="separator:a62f4074ed593a038df8a287aa12edcf6 inherit pub_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afda068fec7c12e974cd58c74291b345d inherit pub_methods_classLibCarna_1_1base_1_1GeometryStage" id="r_afda068fec7c12e974cd58c74291b345d"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#afda068fec7c12e974cd58c74291b345d">renderedPassesCount</a> () <a class="el" href="classLibCarna_1_1base_1_1Association.html">const</a></td></tr>
<tr class="memdesc:afda068fec7c12e974cd58c74291b345d inherit pub_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the number of <a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#a943b0ed181201e3dc237170905c9f9a6">passes rendered so far</a> since the <a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#a62f4074ed593a038df8a287aa12edcf6">beginning of the current frame</a>.  <br /></td></tr>
<tr class="separator:afda068fec7c12e974cd58c74291b345d inherit pub_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f9c7eb8997b324b5a19fa35de0092e7 inherit pub_methods_classLibCarna_1_1base_1_1GeometryStage" id="r_a8f9c7eb8997b324b5a19fa35de0092e7"><td class="memItemLeft" align="right" valign="top">GeometryFeatureType::ManagedInterface &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#a8f9c7eb8997b324b5a19fa35de0092e7">videoResource</a> (<a class="el" href="classLibCarna_1_1base_1_1Association.html">GeometryFeatureType</a> &amp;geometryFeature) <a class="el" href="classLibCarna_1_1base_1_1Association.html">const</a></td></tr>
<tr class="memdesc:a8f9c7eb8997b324b5a19fa35de0092e7 inherit pub_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interfaces the <em>geometryFeature</em> video resources that were acquired by this rendering stage.  <br /></td></tr>
<tr class="separator:a8f9c7eb8997b324b5a19fa35de0092e7 inherit pub_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf0e42797ee3dd8a2909c93361d3567 inherit pub_methods_classLibCarna_1_1base_1_1GeometryStage" id="r_aecf0e42797ee3dd8a2909c93361d3567"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLibCarna_1_1base_1_1Association.html">const</a> GeometryFeatureType::ManagedInterface &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#aecf0e42797ee3dd8a2909c93361d3567">videoResource</a> (<a class="el" href="classLibCarna_1_1base_1_1Association.html">const</a> <a class="el" href="classLibCarna_1_1base_1_1Association.html">GeometryFeatureType</a> &amp;geometryFeature) <a class="el" href="classLibCarna_1_1base_1_1Association.html">const</a></td></tr>
<tr class="separator:aecf0e42797ee3dd8a2909c93361d3567 inherit pub_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classLibCarna_1_1base_1_1RenderStage"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classLibCarna_1_1base_1_1RenderStage')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classLibCarna_1_1base_1_1RenderStage.html">LibCarna::base::RenderStage</a></td></tr>
<tr class="memitem:a4d1a99fd99153a9df18fecfc41b8a034 inherit pub_methods_classLibCarna_1_1base_1_1RenderStage" id="r_a4d1a99fd99153a9df18fecfc41b8a034"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>RenderStage</b> ()</td></tr>
<tr class="memdesc:a4d1a99fd99153a9df18fecfc41b8a034 inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiates in enabled-state. <br /></td></tr>
<tr class="separator:a4d1a99fd99153a9df18fecfc41b8a034 inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dd1b8c1ede1fb165ebdc4f2910820fb inherit pub_methods_classLibCarna_1_1base_1_1RenderStage" id="r_a7dd1b8c1ede1fb165ebdc4f2910820fb"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="classLibCarna_1_1base_1_1Association.html">virtual</a>&#160;</td><td class="memItemRight" valign="bottom"><b>~RenderStage</b> ()</td></tr>
<tr class="memdesc:a7dd1b8c1ede1fb165ebdc4f2910820fb inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes. <br /></td></tr>
<tr class="separator:a7dd1b8c1ede1fb165ebdc4f2910820fb inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5a1b9d6ad9c75933ff0a9346af4f90e inherit pub_methods_classLibCarna_1_1base_1_1RenderStage" id="r_ae5a1b9d6ad9c75933ff0a9346af4f90e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLibCarna_1_1base_1_1Association.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1RenderStage.html#ae5a1b9d6ad9c75933ff0a9346af4f90e">setViewTransformFixed</a> (<a class="el" href="classLibCarna_1_1base_1_1Association.html">bool</a> <a class="el" href="classLibCarna_1_1base_1_1Association.html">viewTransformFixed</a>)</td></tr>
<tr class="memdesc:ae5a1b9d6ad9c75933ff0a9346af4f90e inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets whether the view transform is pass-invariant for the duration of a single frame.  <br /></td></tr>
<tr class="separator:ae5a1b9d6ad9c75933ff0a9346af4f90e inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eab578f8eadcb7902b742e757203c18 inherit pub_methods_classLibCarna_1_1base_1_1RenderStage" id="r_a7eab578f8eadcb7902b742e757203c18"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="classLibCarna_1_1base_1_1Association.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><b>isViewTransformFixed</b> () <a class="el" href="classLibCarna_1_1base_1_1Association.html">const</a></td></tr>
<tr class="memdesc:a7eab578f8eadcb7902b742e757203c18 inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells whether the view transform is pass-invariant for the duration of a single frame. <br /></td></tr>
<tr class="separator:a7eab578f8eadcb7902b742e757203c18 inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae812adf928b2c12accfea2f835c4788f inherit pub_methods_classLibCarna_1_1base_1_1RenderStage" id="r_ae812adf928b2c12accfea2f835c4788f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLibCarna_1_1base_1_1Association.html">virtual</a> <a class="el" href="classLibCarna_1_1base_1_1Association.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1RenderStage.html#ae812adf928b2c12accfea2f835c4788f">reshape</a> (<a class="el" href="classLibCarna_1_1base_1_1FrameRenderer.html">FrameRenderer</a> &amp;<a class="el" href="classLibCarna_1_1base_1_1Association.html">fr</a>, <a class="el" href="classLibCarna_1_1base_1_1Association.html">unsigned</a> <a class="el" href="classLibCarna_1_1base_1_1Association.html">int</a> width, <a class="el" href="classLibCarna_1_1base_1_1Association.html">unsigned</a> <a class="el" href="classLibCarna_1_1base_1_1Association.html">int</a> height)</td></tr>
<tr class="memdesc:ae812adf928b2c12accfea2f835c4788f inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Orders this stage to reshape its buffers according to the specified <em>width</em> and <em>height</em>.  <br /></td></tr>
<tr class="separator:ae812adf928b2c12accfea2f835c4788f inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a734be9b46f041776a24466ed0ae359b7 inherit pub_methods_classLibCarna_1_1base_1_1RenderStage" id="r_a734be9b46f041776a24466ed0ae359b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLibCarna_1_1base_1_1Association.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1RenderStage.html#a734be9b46f041776a24466ed0ae359b7">isInitialized</a> () <a class="el" href="classLibCarna_1_1base_1_1Association.html">const</a></td></tr>
<tr class="memdesc:a734be9b46f041776a24466ed0ae359b7 inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells whether this stage is ready for rendering.  <br /></td></tr>
<tr class="separator:a734be9b46f041776a24466ed0ae359b7 inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeea80aef88b38f96d566268c75ce420f inherit pub_methods_classLibCarna_1_1base_1_1RenderStage" id="r_aeea80aef88b38f96d566268c75ce420f"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="classLibCarna_1_1base_1_1Association.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><b>isEnabled</b> () <a class="el" href="classLibCarna_1_1base_1_1Association.html">const</a></td></tr>
<tr class="memdesc:aeea80aef88b38f96d566268c75ce420f inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells whether this stage is enabled. Disabled stages are not rendered by <a class="el" href="classLibCarna_1_1base_1_1RenderTask.html">render tasks</a>. <br /></td></tr>
<tr class="separator:aeea80aef88b38f96d566268c75ce420f inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7270c1923717f78cfdbf0f40eef887e0 inherit pub_methods_classLibCarna_1_1base_1_1RenderStage" id="r_a7270c1923717f78cfdbf0f40eef887e0"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="classLibCarna_1_1base_1_1Association.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><b>setEnabled</b> (<a class="el" href="classLibCarna_1_1base_1_1Association.html">bool</a>)</td></tr>
<tr class="memdesc:a7270c1923717f78cfdbf0f40eef887e0 inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets whether this stage is enabled. Disabled stages are not rendered by <a class="el" href="classLibCarna_1_1base_1_1RenderTask.html">render tasks</a>. <br /></td></tr>
<tr class="separator:a7270c1923717f78cfdbf0f40eef887e0 inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a891ebd42ca7f81083db9708ab089966c inherit pub_methods_classLibCarna_1_1base_1_1RenderStage" id="r_a891ebd42ca7f81083db9708ab089966c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLibCarna_1_1base_1_1FrameRenderer.html">base::FrameRenderer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1RenderStage.html#a891ebd42ca7f81083db9708ab089966c">renderer</a> ()</td></tr>
<tr class="memdesc:a891ebd42ca7f81083db9708ab089966c inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">References the renderer this stage belongs to.  <br /></td></tr>
<tr class="separator:a891ebd42ca7f81083db9708ab089966c inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac535b2d2440effa40686b1bec9bafe09 inherit pub_methods_classLibCarna_1_1base_1_1RenderStage" id="r_ac535b2d2440effa40686b1bec9bafe09"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLibCarna_1_1base_1_1Association.html">const</a> <a class="el" href="classLibCarna_1_1base_1_1FrameRenderer.html">base::FrameRenderer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1RenderStage.html#ac535b2d2440effa40686b1bec9bafe09">renderer</a> () <a class="el" href="classLibCarna_1_1base_1_1Association.html">const</a></td></tr>
<tr class="separator:ac535b2d2440effa40686b1bec9bafe09 inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa38adeefb06d0489a84ff4f4a7a50fa inherit pub_methods_classLibCarna_1_1base_1_1RenderStage" id="r_afa38adeefb06d0489a84ff4f4a7a50fa"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="classLibCarna_1_1base_1_1Association.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><b>addRenderStageListener</b> (<a class="el" href="classLibCarna_1_1base_1_1RenderStageListener.html">RenderStageListener</a> &amp;<a class="el" href="classLibCarna_1_1base_1_1Association.html">listener</a>)</td></tr>
<tr class="memdesc:afa38adeefb06d0489a84ff4f4a7a50fa inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds <em>listener</em> to the set of listeners this instance notifies in \(\mathcal O\left(\log n\right)\). <br /></td></tr>
<tr class="separator:afa38adeefb06d0489a84ff4f4a7a50fa inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c11112e0ae815bf5f37b92b8deca0ba inherit pub_methods_classLibCarna_1_1base_1_1RenderStage" id="r_a9c11112e0ae815bf5f37b92b8deca0ba"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="classLibCarna_1_1base_1_1Association.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><b>removeRenderStageListener</b> (<a class="el" href="classLibCarna_1_1base_1_1RenderStageListener.html">RenderStageListener</a> &amp;<a class="el" href="classLibCarna_1_1base_1_1Association.html">listener</a>)</td></tr>
<tr class="memdesc:a9c11112e0ae815bf5f37b92b8deca0ba inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes <em>listener</em> from the set of listeners this instance notifies in \(\mathcal O\left(\log n\right)\). <br /></td></tr>
<tr class="separator:a9c11112e0ae815bf5f37b92b8deca0ba inherit pub_methods_classLibCarna_1_1base_1_1RenderStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a1ac69633c9ca2a1b0411b8d9d87db67d" id="r_a1ac69633c9ca2a1b0411b8d9d87db67d"><td class="memItemLeft" align="right" valign="top">static const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#a1ac69633c9ca2a1b0411b8d9d87db67d">DEFAULT_SAMPLE_RATE</a> = 200</td></tr>
<tr class="memdesc:a1ac69633c9ca2a1b0411b8d9d87db67d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the default number of slices rendered per segment.  <br /></td></tr>
<tr class="separator:a1ac69633c9ca2a1b0411b8d9d87db67d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:af1b11b3c64d36dbc6363132e7b89e7d6" id="r_af1b11b3c64d36dbc6363132e7b89e7d6"><td class="memItemLeft" align="right" valign="top">virtual unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#af1b11b3c64d36dbc6363132e7b89e7d6">loadVideoResources</a> ()</td></tr>
<tr class="memdesc:af1b11b3c64d36dbc6363132e7b89e7d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads video resources when rendering is triggered for the first time. Override this method if you need any additional resources to be loaded, but always call the base implementation.  <br /></td></tr>
<tr class="separator:af1b11b3c64d36dbc6363132e7b89e7d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae602b9626751e171212249295cf99146" id="r_ae602b9626751e171212249295cf99146"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#ae602b9626751e171212249295cf99146">render</a> (const <a class="el" href="classLibCarna_1_1base_1_1Renderable.html">base::Renderable</a> &amp;) override</td></tr>
<tr class="memdesc:ae602b9626751e171212249295cf99146"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renders the <em>renderable</em>.  <br /></td></tr>
<tr class="separator:ae602b9626751e171212249295cf99146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c3d2c2c77204688265f0717c6eb4567" id="r_a2c3d2c2c77204688265f0717c6eb4567"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#a2c3d2c2c77204688265f0717c6eb4567">createVolumeSamplers</a> (const std::function&lt; void(unsigned int, <a class="el" href="classLibCarna_1_1base_1_1Sampler.html">base::Sampler</a> *) &gt; &amp;registerSampler)=0</td></tr>
<tr class="memdesc:a2c3d2c2c77204688265f0717c6eb4567"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates <a class="el" href="classLibCarna_1_1base_1_1Sampler.html">texture samplers</a> for volume textures and uses <em>registerSampler</em> to assign them to the roles that they should be used with.  <br /></td></tr>
<tr class="separator:a2c3d2c2c77204688265f0717c6eb4567"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afea2320eed7780f3f687b3422f15f3db" id="r_afea2320eed7780f3f687b3422f15f3db"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classLibCarna_1_1base_1_1ShaderProgram.html">base::ShaderProgram</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#afea2320eed7780f3f687b3422f15f3db">acquireShader</a> ()=0</td></tr>
<tr class="memdesc:afea2320eed7780f3f687b3422f15f3db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires the shader from the <a class="el" href="classLibCarna_1_1base_1_1ShaderManager.html">base::ShaderManager</a>, that is to be used for <a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#VolumeRenderingAlgorithm">rendering the slices</a>.  <br /></td></tr>
<tr class="separator:afea2320eed7780f3f687b3422f15f3db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad52d1678ed09a1fe92c631d5719a925f" id="r_ad52d1678ed09a1fe92c631d5719a925f"><td class="memItemLeft" align="right" valign="top">virtual const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#ad52d1678ed09a1fe92c631d5719a925f">uniformName</a> (unsigned int role) const =0</td></tr>
<tr class="memdesc:ad52d1678ed09a1fe92c631d5719a925f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the name of the uniform variable, that the <em>role</em> texture is to be bound to. Use <a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#a42668c71d9a0aa521e015850f09869e9">configureShader</a> for custom shader configuration that goes beyond that.  <br /></td></tr>
<tr class="separator:ad52d1678ed09a1fe92c631d5719a925f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42668c71d9a0aa521e015850f09869e9" id="r_a42668c71d9a0aa521e015850f09869e9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#a42668c71d9a0aa521e015850f09869e9">configureShader</a> ()=0</td></tr>
<tr class="memdesc:a42668c71d9a0aa521e015850f09869e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs custom shader configuration on a per-pass level.  <br /></td></tr>
<tr class="separator:a42668c71d9a0aa521e015850f09869e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a4b3ea7335d6f1a2f02b48c87031e1" id="r_ad2a4b3ea7335d6f1a2f02b48c87031e1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#ad2a4b3ea7335d6f1a2f02b48c87031e1">configureShader</a> (const <a class="el" href="classLibCarna_1_1base_1_1Renderable.html">base::Renderable</a> &amp;)=0</td></tr>
<tr class="memdesc:ad2a4b3ea7335d6f1a2f02b48c87031e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs custom shader configuration on a per-volume level.  <br /></td></tr>
<tr class="separator:ad2a4b3ea7335d6f1a2f02b48c87031e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classLibCarna_1_1base_1_1GeometryStage"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classLibCarna_1_1base_1_1GeometryStage')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html">LibCarna::base::GeometryStage&lt; base::Renderable::BackToFront &gt;</a></td></tr>
<tr class="memitem:a89f9e745302863fe11e1c1459fb589c4 inherit pro_methods_classLibCarna_1_1base_1_1GeometryStage" id="r_a89f9e745302863fe11e1c1459fb589c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLibCarna_1_1base_1_1Association.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#a89f9e745302863fe11e1c1459fb589c4">activateGLContext</a> () <a class="el" href="classLibCarna_1_1base_1_1Association.html">const</a></td></tr>
<tr class="memdesc:a89f9e745302863fe11e1c1459fb589c4 inherit pro_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensures that the <a class="el" href="classLibCarna_1_1base_1_1GLContext.html">OpenGL context</a> of the hosting <a class="el" href="classLibCarna_1_1base_1_1FrameRenderer.html">LibCarna::base::FrameRenderer</a> is the current one.  <br /></td></tr>
<tr class="separator:a89f9e745302863fe11e1c1459fb589c4 inherit pro_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84dae1d47725e51fae21f00ce1cb05ef inherit pro_methods_classLibCarna_1_1base_1_1GeometryStage" id="r_a84dae1d47725e51fae21f00ce1cb05ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLibCarna_1_1base_1_1Association.html">virtual</a> <a class="el" href="classLibCarna_1_1base_1_1Association.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#a84dae1d47725e51fae21f00ce1cb05ef">buildRenderQueues</a> (<a class="el" href="classLibCarna_1_1base_1_1Node.html">Node</a> &amp;root, <a class="el" href="classLibCarna_1_1base_1_1Association.html">const</a> <a class="el" href="namespaceLibCarna_1_1base_1_1math.html#a7269ffe513faf029197d2a22e38f18ed">math::Matrix4f</a> &amp;viewTransform)</td></tr>
<tr class="memdesc:a84dae1d47725e51fae21f00ce1cb05ef inherit pro_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds the rendering queues of this stage.  <br /></td></tr>
<tr class="separator:a84dae1d47725e51fae21f00ce1cb05ef inherit pro_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f7680a1ae6b865c5d53c936aea34822 inherit pro_methods_classLibCarna_1_1base_1_1GeometryStage" id="r_a3f7680a1ae6b865c5d53c936aea34822"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLibCarna_1_1base_1_1Association.html">virtual</a> <a class="el" href="classLibCarna_1_1base_1_1Association.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#a3f7680a1ae6b865c5d53c936aea34822">rewindRenderQueues</a> ()</td></tr>
<tr class="memdesc:a3f7680a1ae6b865c5d53c936aea34822 inherit pro_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rewinds the rendering queues of this stage.  <br /></td></tr>
<tr class="separator:a3f7680a1ae6b865c5d53c936aea34822 inherit pro_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e0cd08bdbcf7f35571d3daaf83a77e7 inherit pro_methods_classLibCarna_1_1base_1_1GeometryStage" id="r_a1e0cd08bdbcf7f35571d3daaf83a77e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLibCarna_1_1base_1_1Association.html">virtual</a> <a class="el" href="classLibCarna_1_1base_1_1Association.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#a1e0cd08bdbcf7f35571d3daaf83a77e7">updateRenderQueues</a> (<a class="el" href="classLibCarna_1_1base_1_1Association.html">const</a> <a class="el" href="namespaceLibCarna_1_1base_1_1math.html#a7269ffe513faf029197d2a22e38f18ed">math::Matrix4f</a> &amp;viewTransform)</td></tr>
<tr class="memdesc:a1e0cd08bdbcf7f35571d3daaf83a77e7 inherit pro_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recomputes the <a class="el" href="CoordinateSystems.html#ViewSpace">model-view transforms</a> of the renderables enqueued by this stage.  <br /></td></tr>
<tr class="separator:a1e0cd08bdbcf7f35571d3daaf83a77e7 inherit pro_methods_classLibCarna_1_1base_1_1GeometryStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_classLibCarna_1_1base_1_1GeometryStage"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classLibCarna_1_1base_1_1GeometryStage')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html">LibCarna::base::GeometryStage&lt; base::Renderable::BackToFront &gt;</a></td></tr>
<tr class="memitem:afeebd7b9da40b1991d481fc543cb4572 inherit pub_attribs_classLibCarna_1_1base_1_1GeometryStage" id="r_afeebd7b9da40b1991d481fc543cb4572"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLibCarna_1_1base_1_1Association.html">const</a> <a class="el" href="classLibCarna_1_1base_1_1Association.html">unsigned</a> <a class="el" href="classLibCarna_1_1base_1_1Association.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#afeebd7b9da40b1991d481fc543cb4572">geometryType</a></td></tr>
<tr class="memdesc:afeebd7b9da40b1991d481fc543cb4572 inherit pub_attribs_classLibCarna_1_1base_1_1GeometryStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renders such geometries whose type <em>AND</em>-linked with <a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#a3abf545b3c207d085b4c18386f50f5d2">geometryTypeMask</a> equals this.  <br /></td></tr>
<tr class="separator:afeebd7b9da40b1991d481fc543cb4572 inherit pub_attribs_classLibCarna_1_1base_1_1GeometryStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3abf545b3c207d085b4c18386f50f5d2 inherit pub_attribs_classLibCarna_1_1base_1_1GeometryStage" id="r_a3abf545b3c207d085b4c18386f50f5d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLibCarna_1_1base_1_1Association.html">const</a> <a class="el" href="classLibCarna_1_1base_1_1Association.html">unsigned</a> <a class="el" href="classLibCarna_1_1base_1_1Association.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#a3abf545b3c207d085b4c18386f50f5d2">geometryTypeMask</a></td></tr>
<tr class="memdesc:a3abf545b3c207d085b4c18386f50f5d2 inherit pub_attribs_classLibCarna_1_1base_1_1GeometryStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renders such geometries whose type <em>AND</em>-linked with this equals <a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#afeebd7b9da40b1991d481fc543cb4572">geometryType</a>.  <br /></td></tr>
<tr class="separator:a3abf545b3c207d085b4c18386f50f5d2 inherit pub_attribs_classLibCarna_1_1base_1_1GeometryStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classLibCarna_1_1base_1_1GeometryStage"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classLibCarna_1_1base_1_1GeometryStage')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html">LibCarna::base::GeometryStage&lt; base::Renderable::BackToFront &gt;</a></td></tr>
<tr class="memitem:a1b7295cef301d66e995ef6662d479e7a inherit pro_attribs_classLibCarna_1_1base_1_1GeometryStage" id="r_a1b7295cef301d66e995ef6662d479e7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLibCarna_1_1base_1_1RenderQueue.html">RenderQueue</a>&lt; <a class="el" href="classLibCarna_1_1base_1_1Renderable.html#a763a73f58499978ca5e1808c6d1f873a">base::Renderable::BackToFront</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#a1b7295cef301d66e995ef6662d479e7a">rq</a></td></tr>
<tr class="memdesc:a1b7295cef301d66e995ef6662d479e7a inherit pro_attribs_classLibCarna_1_1base_1_1GeometryStage"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the predefined rendering queue of this rendering stage.  <br /></td></tr>
<tr class="separator:a1b7295cef301d66e995ef6662d479e7a inherit pro_attribs_classLibCarna_1_1base_1_1GeometryStage"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines abstract base class for <a class="el" href="classLibCarna_1_1base_1_1RenderStage.html">rendering stages</a> that render volume geometries in the scene. </p>
<p>The necessity to evaluate \(f\left(x_i\right)\) for equidistant samples \(x_i\) of a ray, that is shot from each pixel of the screen into the volume geometries of the scene, is common to the typical volume rendering applications like <em>digital radiograph reconstructs</em>, <em>maximum intensity projections</em> or <em>direct volume renderings</em>.</p>
<h1><a class="anchor" id="VolumeRenderingApproach"></a>
Approach</h1>
<p>The approach, that probably seems most natural, is the following. By rendering a bounding box around the volume, we would get an invocation of a fragment shader for each such pixel whose ray intersects the volume. The next step would be to somehow obtain the first and last intersection locations \(x_1\) and \(x_n\) respectively within the shader. Finally one would iterate over the equidistant samples \(x_i\) and evaluate them through \(f\).</p>
<p>This actually is a very wide-spread approach to volume rendering, that is called <em>ray marching</em>. It has two disadvantages. First, the looping within the fragment shader comes at the cost of heavy dynamic branching, that slows down the GPU a lot. Second, it requires quite a lot of shader logic to be implemented redundantly for each application. For this two reasons, this class uses a different approach, but one that is certainly inspired by ray marching.</p>
<div class="image">
<img src="VolumeRenderingApproach.png" alt=""/>
<div class="caption">
on the left: the ray marching approach - on the right: algorithm implemented here</div></div>
<p>The idea is to use <em>precomputed</em> sample locations. Therefor the samples \(x_i\) of different rays but with same \(i\) are identified as <em>slices</em>. The creation of a mesh that consists of \(n\) slices is easy. The challenge is to position and scale that mesh s.t. it covers the whole volume, i.e. its bounding box like illustrated in the figure above, irrespectively of the view direction. The mesh is oriented s.t. the slices become orthogonal to the viewing direction. It is positioned s.t. its center matches the center of the bounding box. The scaling is a little tricky: We stretch it s.t. it becomes the minimum boundary box to the volume's <em>bounding ellipsoid</em>.</p>
<h1><a class="anchor" id="VolumeRenderingAlgorithm"></a>
Algorithm</h1>
<p>This is an abstract base class for volume rendering stages. The algorithm constructs a sequence of slices. These slices are rendered at the location of every <a class="el" href="classLibCarna_1_1base_1_1Geometry.html">base::Geometry</a> node <a class="el" href="index.html#GeometryTypes">that this stage processes</a>. The rendering is done s.t. the slices always face exactly towards the camera. Implementations of this class must provide shader that satisfies specific requirements.</p>
<dl class="section see"><dt>See also</dt><dd>A short introduction to shaders is given in the <a class="el" href="classLibCarna_1_1base_1_1Material.html#CustomMaterials">Custom Materials</a> section.</dd></dl>
<p>It is within the responsibility of this shader to transform the vertices of the slices s.t. they are put in place correctly. Furthermore it is of course the job of the shader to do the texturing of the slices. This abstract class supports the shader in accomplishing both requirements, as explained below.</p>
<h2><a class="anchor" id="VolumeRenderingTransformations"></a>
Transformations</h2>
<p>The vertices of the slices mesh are defined in <em>tangent space</em> coordinates. The z-coordinate is the same for the vertices of a single slice and grows for slices that will be rendered closer to the camera. As usual, rendering requires the transformations of vertices to <a class="el" href="CoordinateSystems.html">eye space and beyond</a>. This is done in two steps:</p>
<ol type="1">
<li>The vertices are transformed to the <em>model space</em> of the geometry node. These coordinates will also be used for texturing, as explained later.</li>
<li>From <em>model space</em> the coordinates are than transformed to <a class="el" href="CoordinateSystems.html#ClippingCoordinates">clipping coordinates</a> as it is always done.</li>
</ol>
<h3><a class="anchor" id="VolumeRenderingTangentModel"></a>
Tangent to Model</h3>
<p>This class computes a matrix that accomplishes the transformation from tangent space to model space. This is pretty easy: The vector of the view direction, transformed to model space by the inverse model-view matrix, is picked as the the <em>normal</em> vector of the tangent space, i.e. the z-component basis vector.</p>
<p>Note that we do not have any requirements upon how the vertices shall be rotated within the plane, the normal vector defines, as long as their rotation is consistent with the texturing. Thus an <a class="el" href="namespaceLibCarna_1_1base_1_1math.html#a960638ead69266f1a072eb4a38607777">arbitrary orthogonal vector</a> is constructed, that is taken as the <em>tangent</em>, i.e. the x-component basis vector. The <em>bitangent</em> vector for the y-component is than easily obtained by the cross product of the others two.</p>
<p>The finished <em>tangent-model matrix</em> is uploaded to the shader as an uniform named <code>tangentModel</code> from type <code>mat4</code>.</p>
<h3><a class="anchor" id="VolumeRenderingModelTexture"></a>
Model to Texture</h3>
<p>The volumetric data that is attached to a geometry node is always assumed to be centered within the node. Furthermore the data is scaled s.t. it shapes an unitary cube. This is convenient because OpenGL requires us to specify texture coordinates within \(\left[0, 1\right]^3\). This is why the transformation of model coordinates to texture coordinates requires us to translate the model coordinates by \(\left(0{,}5, 0{,}5, 0{,}5\right)^\mathrm T\) first.</p>
<p>One has to know that a texture, when it is applied to a triangle or a quad, induces a grid of <em>equally</em> sized cells. The question arises, where exactly the values from the texture were mapped to. The answer is, that they are mapped to the cell <em>centers</em> and not the grid intersections, as one might expect. As a consequence, not only the values in between of the texture values are interpolated, but also the values on the edges of the texture. These extrapolated edges are usually not expected by applications. This class <a class="el" href="classLibCarna_1_1base_1_1ManagedTexture3D.html#a751f01278ee8cec9fcbb145ebf5755c3">obtains a matrix</a> that shifts and scales the texture coordinates s.t. these edges are avoided. It creates the illusion as if the texture values were actually mapped to the grid intersections.</p>
<p>The matrix, that results from the concatenation of the translation and the edges-correction matrix, is uploaded to the shader as an uniform named <code>modelTexture</code> from type <code>mat4</code>.</p>
<h2><a class="anchor" id="VolumeRenderingOrder"></a>
Rendering</h2>
<p>Usually volume data is partitioned into smaller textures. This reduces the probability of out-of-memory exceptions due to memory fragmentation. The <a class="el" href="classLibCarna_1_1helpers_1_1VolumeGridHelper.html">helpers::VolumeGridHelper</a> class performs such a partitioning. This means that we will often render not only single volumes but <em>grids</em> where each cell is made up by a volume that needs to be rendered. The algorithm presented here suits this use-case without compromises. However, additional measures need to be taken to avoid artifacts when adjacent cells, i.e. volumes, are rendered. We will go through the two types of artifacts that may arise, look at their causes and how this class avoids them.</p>
<h3><a class="anchor" id="VolumeRenderingAdjacencyArtifacts"></a>
Adjacency Artifacts</h3>
<p>The first type of artifacts encounters when \(f\left(x_i\right)\) are somehow accumulated, like for digital radiograph reconstructs or direct volume renderings. As the figure below illustrates, voxels on the volume edges may be sampled with a higher rate, because the same voxel is processed twice, once when rendering the left volume and once when rendering the right one. This causes faulty accumulated results.</p>
<div class="image">
<img src="VolumeRenderingArtifacts1.png" alt=""/>
<div class="caption">
on the left: artifacts when rendering without depth test/write - on the right: how these artifacts are caused</div></div>
<p>The solution is rather simple:</p>
<ul>
<li>We ensure that for each volume the slices are rendered from back to front. This is easy to achieve when payed attention to during the mesh creation.</li>
<li>We also ensure that the volumes are rendered from back to front, like it is a common practice for rendering transparent geometries.</li>
<li>Finally we turn on depth testing and depth writing. This ensures that edge voxels are only processed once.</li>
</ul>
<h3><a class="anchor" id="VolumeRenderingOcclusionArtifacts"></a>
Occlusion Artifacts</h3>
<p>The other type of artifacts arises straight from the solution for the first one, depending on how the depth sorting is accomplished. Common implementations compute object distances by evaluating the distance to their centers. If this method was used here, we would observe the artifacts illustrated in the figure below when rendering grid cells of different sizes.</p>
<div class="image">
<img src="VolumeRenderingArtifacts2.png" alt=""/>
<div class="caption">
on the left: artifacts when using distances to centers - on the right: how these artifacts are caused</div></div>
<p>The term <em>watershed</em> in the picture above refers to an analogy: If the eye is located on the left side, than the left cell is considered closer, otherwise the right cell. The numbers refer to the (reverse) recognized depth order, i.e. the order of rendering the volumes. The watershed, computed from the center-distances, is perfectly fine for equally sized cells, but becomes wrong if one cell is smaller: Here the watershed is shifted to left of where it actually should be. The left cell is rendered first, because the right one is considered closer. This prevents the red-shaded area of the right cell from being rendered afterwards, because the depth test fails in this area.</p>
<p>The solution is to use a different distance measuring. Instead of computing the distances to the cell centers, we compute the <em>actual</em> distances to the cells. The <a class="el" href="structLibCarna_1_1base_1_1Renderable_1_1DepthOrder.html">depth-sorting implementation</a> does this if an appropriate <a class="el" href="classLibCarna_1_1base_1_1BoundingBox.html">bounding box</a> is set upon the geometry node. The <a class="el" href="classLibCarna_1_1helpers_1_1VolumeGridHelper.html">helpers::VolumeGridHelper</a> class configures such bounding boxes for you.</p>
<h1><a class="anchor" id="VolumeRenderingHowToImplementat"></a>
How to Implement</h1>
<p>It is important to have an idea of how shaders access textures. For each texture that a shader is able to read from, it must have an uniform variable declared. It is in the responsibility of the CPU-side program to map such variables to texture units. The uniform variable will then reflect the texture that is currently bound to that unit. For geometry nodes that <a class="el" href="index.html#GeometryTypes">this stage processes</a>, it looks for such <a class="el" href="index.html#GeometryFeatures">geometry features</a> that are from type <a class="el" href="classLibCarna_1_1base_1_1ManagedTexture3D.html">base::ManagedTexture3D</a>. It then queries the names of the uniform variables, that these textures shall be linked with, from the implementation.</p>
<h2><a class="anchor" id="VolumeRenderingDeriving"></a>
Deriving the Class</h2>
<p>There are four functions that must be implemented:</p>
<ul>
<li><a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#afea2320eed7780f3f687b3422f15f3db">acquireShader</a> acquires the shader to be used for <a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#VolumeRenderingAlgorithm">rendering the slices</a>.</li>
<li><a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#ad52d1678ed09a1fe92c631d5719a925f">uniformName</a> maps the volume texture roles to uniform variable names.</li>
<li><a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#a42668c71d9a0aa521e015850f09869e9">configureShader</a> performs arbitrary setup of the shader.</li>
<li><a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#a2c3d2c2c77204688265f0717c6eb4567">createVolumeSamplers</a> creates <a class="el" href="classLibCarna_1_1base_1_1Sampler.html">texture samplers</a> and assigns them to the roles that they should be used with.</li>
</ul>
<p>Furthermore, you might want to override <a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#ae0b999e645d2e95158f613ebbe9777f0">renderPass</a>. The default implementation invokes the volume rendering algorithm, as it is described above. It is a typical practice for implementations of this class to override this method s.t. it setups a different render target, than invokes the default implementation to render to this target, and finally to process the results by rendering them back to the actually configured output buffer. If alpha blending is used while doing the volume rendering to a dedicated buffer, than this step is frequently referred to as <em>accumulation</em>. For example, the <a class="el" href="classLibCarna_1_1presets_1_1MIPStage.html">MIPStage</a> accumulates using the <code>GL_MAX</code> <a class="el" href="classLibCarna_1_1base_1_1RenderState.html#a352a972212843a4dab5cb5e08c100ed1">blend equation</a>, or the <a class="el" href="classLibCarna_1_1presets_1_1DRRStage.html">DRRStage</a> accumulates with <code>GL_ADD</code> to compute an integral.</p>
<h2><a class="anchor" id="VolumeRenderingShader"></a>
Writing the Shader</h2>
<p>Below are a few hints on how to implement the shader. Refer to the <a class="el" href="classLibCarna_1_1base_1_1Material.html#ShaderMaterialIntegration">Integration into Materials</a> section for hints on how to actually load the shader.</p>
<h3><a class="anchor" id="VolumeRenderingVertexShader"></a>
Vertex Shader</h3>
<p>The vertex shader must declare the following GLSL version, uniform variables and <a class="el" href="structLibCarna_1_1base_1_1PVertex.html#CustomVertexFormats">vertex formats</a>: </p><pre class="fragment">\code
#version 330
uniform mat4 tangentModel;
uniform mat4 modelViewProjection;

layout( location = 0 ) in vec4 inPosition;
\endcode
</pre><p> Furthermore, it must pass the model-space coordinates to the fragment shader, although the name of the variable used for this is arbitrary: </p><pre class="fragment">\code
out vec4 modelSpaceCoordinates;
\endcode
</pre><p> Most of the time you should be able to stick to this implementation: </p><pre class="fragment">\code
void main()
{
    modelSpaceCoordinates = tangentModel * inPosition;
    vec4 clippingCoordinates = modelViewProjection * modelSpaceCoordinates;
    gl_Position = clippingCoordinates;
}
\endcode
</pre> <h3><a class="anchor" id="VolumeRenderingFragmentShader"></a>
Fragment Shader</h3>
<p>The fragment shader must declare the following GLSL version and uniform variables, along with a varying for the model-space coordinates, whose name must match the name used in the vertex shader: </p><pre class="fragment">\code
#version 330

uniform mat4 modelTexture;

in  vec4 modelSpaceCoordinates;
out vec4 gl_FragColor;
\endcode
</pre><p> The name of the color output variable <code>gl_FragColor</code> is arbitrary.</p>
<p>Below is the body of a typical implementation of the fragment shader, that writes the texture coordinates to the color output: </p><pre class="fragment">\code
void main()
{
    if( abs( modelSpaceCoordinates.x ) &gt; 0.5 || abs( modelSpaceCoordinates.y ) &gt; 0.5 || abs( modelSpaceCoordinates.z ) &gt; 0.5 )
    {
        discard;
    }
    vec4 textureCoordinates = modelTexture * modelSpaceCoordinates;
    gl_FragColor = vec4( textureCoordinates.rgb, 1 );
}
\endcode
</pre><p> For a full example on how to implement the shader, refer to the files <a class="el" href="mip_8vert_source.html">src/res/mip.vert</a> and <a class="el" href="mip_8frag_source.html">src/res/mip.frag</a>. These should be self-explaining.</p>
<dl class="section author"><dt>Author</dt><dd>Leonid Kostrykin </dd></dl>

<p class="definition">Definition at line <a class="el" href="VolumeRenderingStage_8hpp_source.html#l00319">319</a> of file <a class="el" href="VolumeRenderingStage_8hpp_source.html">VolumeRenderingStage.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="afea2320eed7780f3f687b3422f15f3db" name="afea2320eed7780f3f687b3422f15f3db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afea2320eed7780f3f687b3422f15f3db">&#9670;&#160;</a></span>acquireShader()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const <a class="el" href="classLibCarna_1_1base_1_1ShaderProgram.html">base::ShaderProgram</a> &amp; LibCarna::presets::VolumeRenderingStage::acquireShader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acquires the shader from the <a class="el" href="classLibCarna_1_1base_1_1ShaderManager.html">base::ShaderManager</a>, that is to be used for <a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#VolumeRenderingAlgorithm">rendering the slices</a>. </p>

<p>Implemented in <a class="el" href="classLibCarna_1_1presets_1_1DRRStage.html#a924113cbb6e225246f8693d313ccf9a5">LibCarna::presets::DRRStage</a>, <a class="el" href="classLibCarna_1_1presets_1_1DVRStage.html#a017c61893366fe7daa7dc0dd233f1692">LibCarna::presets::DVRStage</a>, <a class="el" href="classLibCarna_1_1presets_1_1MaskRenderingStage.html#a7bcbbca3a24cd2c5b74a42f9adfdb8a7">LibCarna::presets::MaskRenderingStage</a>, and <a class="el" href="classLibCarna_1_1presets_1_1MIPStage.html#a2e1d0459af391413d0629c2f529004e2">LibCarna::presets::MIPStage</a>.</p>

</div>
</div>
<a id="a42668c71d9a0aa521e015850f09869e9" name="a42668c71d9a0aa521e015850f09869e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42668c71d9a0aa521e015850f09869e9">&#9670;&#160;</a></span>configureShader() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void LibCarna::presets::VolumeRenderingStage::configureShader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs custom shader configuration on a per-pass level. </p>

<p>Implemented in <a class="el" href="classLibCarna_1_1presets_1_1DRRStage.html#a9c36cef36b4fd399457335a8a82831b4">LibCarna::presets::DRRStage</a>, <a class="el" href="classLibCarna_1_1presets_1_1DVRStage.html#a949e6c029f739bbd6ccd1a84d4f1728c">LibCarna::presets::DVRStage</a>, <a class="el" href="classLibCarna_1_1presets_1_1MaskRenderingStage.html#ad1ebddfe7601c8214ee2b1d30cf547f5">LibCarna::presets::MaskRenderingStage</a>, and <a class="el" href="classLibCarna_1_1presets_1_1MIPStage.html#ac0534781b4380ea9e039c92ed004834f">LibCarna::presets::MIPStage</a>.</p>

</div>
</div>
<a id="ad2a4b3ea7335d6f1a2f02b48c87031e1" name="ad2a4b3ea7335d6f1a2f02b48c87031e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2a4b3ea7335d6f1a2f02b48c87031e1">&#9670;&#160;</a></span>configureShader() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void LibCarna::presets::VolumeRenderingStage::configureShader </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classLibCarna_1_1base_1_1Renderable.html">base::Renderable</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs custom shader configuration on a per-volume level. </p>

<p>Implemented in <a class="el" href="classLibCarna_1_1presets_1_1DRRStage.html#a1eb943cfbb6582612733c99483e42853">LibCarna::presets::DRRStage</a>, <a class="el" href="classLibCarna_1_1presets_1_1DVRStage.html#aab8e9109ce3a719efdcb0212544953e7">LibCarna::presets::DVRStage</a>, <a class="el" href="classLibCarna_1_1presets_1_1MaskRenderingStage.html#abd9308fc99a2785d85a93ab9416dec98">LibCarna::presets::MaskRenderingStage</a>, and <a class="el" href="classLibCarna_1_1presets_1_1MIPStage.html#ad512212b215acf067532e0de243eb577">LibCarna::presets::MIPStage</a>.</p>

</div>
</div>
<a id="a2c3d2c2c77204688265f0717c6eb4567" name="a2c3d2c2c77204688265f0717c6eb4567"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c3d2c2c77204688265f0717c6eb4567">&#9670;&#160;</a></span>createVolumeSamplers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void LibCarna::presets::VolumeRenderingStage::createVolumeSamplers </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; void(unsigned int, <a class="el" href="classLibCarna_1_1base_1_1Sampler.html">base::Sampler</a> *) &gt; &amp;&#160;</td>
          <td class="paramname"><em>registerSampler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates <a class="el" href="classLibCarna_1_1base_1_1Sampler.html">texture samplers</a> for volume textures and uses <em>registerSampler</em> to assign them to the roles that they should be used with. </p>

<p>Implemented in <a class="el" href="classLibCarna_1_1presets_1_1DRRStage.html#a24ff3d00c1e7de71688ead6b9068ee8e">LibCarna::presets::DRRStage</a>, <a class="el" href="classLibCarna_1_1presets_1_1DVRStage.html#aa8bf522f6faa9442d3691d1e9b2a412c">LibCarna::presets::DVRStage</a>, <a class="el" href="classLibCarna_1_1presets_1_1MaskRenderingStage.html#a72db794692ace7be040b7d9e26b3fcb0">LibCarna::presets::MaskRenderingStage</a>, and <a class="el" href="classLibCarna_1_1presets_1_1MIPStage.html#aa1df24d41a885b874638f7e6ffd93b4f">LibCarna::presets::MIPStage</a>.</p>

</div>
</div>
<a id="af1b11b3c64d36dbc6363132e7b89e7d6" name="af1b11b3c64d36dbc6363132e7b89e7d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1b11b3c64d36dbc6363132e7b89e7d6">&#9670;&#160;</a></span>loadVideoResources()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual unsigned int LibCarna::presets::VolumeRenderingStage::loadVideoResources </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads video resources when rendering is triggered for the first time. Override this method if you need any additional resources to be loaded, but always call the base implementation. </p>
<dl class="section return"><dt>Returns</dt><dd>the first texture unit to use for volume textures. The dafault implementation returns <a class="el" href="classLibCarna_1_1base_1_1TextureBase.html#aae9b71611435cc483e0fab27ca5031b3">base::Texture&lt;0&gt;::SETUP_UNIT</a> <code>+1</code>. </dd></dl>

<p>Reimplemented in <a class="el" href="classLibCarna_1_1presets_1_1DRRStage.html#a3770d25059d787350864fff0986f4b14">LibCarna::presets::DRRStage</a>, <a class="el" href="classLibCarna_1_1presets_1_1DVRStage.html#aa735c5ebec91b30771fee7f8d64831a7">LibCarna::presets::DVRStage</a>, <a class="el" href="classLibCarna_1_1presets_1_1MaskRenderingStage.html#a9b8974c25bbe6bf5e85aff050b05fc1f">LibCarna::presets::MaskRenderingStage</a>, and <a class="el" href="classLibCarna_1_1presets_1_1MIPStage.html#a2fe64def5561deecc8c00d059a0e1414">LibCarna::presets::MIPStage</a>.</p>

</div>
</div>
<a id="ae602b9626751e171212249295cf99146" name="ae602b9626751e171212249295cf99146"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae602b9626751e171212249295cf99146">&#9670;&#160;</a></span>render()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void LibCarna::presets::VolumeRenderingStage::render </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classLibCarna_1_1base_1_1Renderable.html">base::Renderable</a> &amp;&#160;</td>
          <td class="paramname"><em>renderable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Renders the <em>renderable</em>. </p>

<p>Implements <a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#a16c40c0255b71dc34590239869de89d1">LibCarna::base::GeometryStage&lt; base::Renderable::BackToFront &gt;</a>.</p>

</div>
</div>
<a id="ae0b999e645d2e95158f613ebbe9777f0" name="ae0b999e645d2e95158f613ebbe9777f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0b999e645d2e95158f613ebbe9777f0">&#9670;&#160;</a></span>renderPass()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void LibCarna::presets::VolumeRenderingStage::renderPass </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceLibCarna_1_1base_1_1math.html#a7269ffe513faf029197d2a22e38f18ed">base::math::Matrix4f</a> &amp;&#160;</td>
          <td class="paramname"><em>viewTransform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classLibCarna_1_1base_1_1RenderTask.html">base::RenderTask</a> &amp;&#160;</td>
          <td class="paramname"><em>rt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classLibCarna_1_1base_1_1Viewport.html">base::Viewport</a> &amp;&#160;</td>
          <td class="paramname"><em>vp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Triggers the <a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#VolumeRenderingApproach">volume rendering</a>. </p>

<p>Reimplemented from <a class="el" href="classLibCarna_1_1base_1_1GeometryStage.html#a943b0ed181201e3dc237170905c9f9a6">LibCarna::base::GeometryStage&lt; base::Renderable::BackToFront &gt;</a>.</p>

<p>Reimplemented in <a class="el" href="classLibCarna_1_1presets_1_1DRRStage.html#a3adda0b09031d0ae0288544e572430ad">LibCarna::presets::DRRStage</a>, <a class="el" href="classLibCarna_1_1presets_1_1DVRStage.html#a2d4c686dc1ec1ac11fbf1a6ab3e8fa7c">LibCarna::presets::DVRStage</a>, <a class="el" href="classLibCarna_1_1presets_1_1MaskRenderingStage.html#a77abefb95596a65761fb8eb7c59e8f22">LibCarna::presets::MaskRenderingStage</a>, and <a class="el" href="classLibCarna_1_1presets_1_1MIPStage.html#a180a593660c1d1b095d2f15487e31845">LibCarna::presets::MIPStage</a>.</p>

</div>
</div>
<a id="a6c53497679806e20b07823446ae42e84" name="a6c53497679806e20b07823446ae42e84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c53497679806e20b07823446ae42e84">&#9670;&#160;</a></span>sampleRate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int LibCarna::presets::VolumeRenderingStage::sampleRate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells number of slices to be rendered per segment. </p>
<dl class="section pre"><dt>Precondition</dt><dd><code><a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#a6c53497679806e20b07823446ae42e84" title="Tells number of slices to be rendered per segment.">sampleRate()</a> &gt;= 2</code> </dd></dl>

</div>
</div>
<a id="ac4c641ce29e3436edfc4d05513782227" name="ac4c641ce29e3436edfc4d05513782227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4c641ce29e3436edfc4d05513782227">&#9670;&#160;</a></span>setSampleRate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LibCarna::presets::VolumeRenderingStage::setSampleRate </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sampleRate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets number of slices to be rendered per segment. </p>
<dl class="section pre"><dt>Precondition</dt><dd><code>sampleRate &gt;= 2</code> </dd></dl>

</div>
</div>
<a id="ad52d1678ed09a1fe92c631d5719a925f" name="ad52d1678ed09a1fe92c631d5719a925f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad52d1678ed09a1fe92c631d5719a925f">&#9670;&#160;</a></span>uniformName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::string &amp; LibCarna::presets::VolumeRenderingStage::uniformName </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>role</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells the name of the uniform variable, that the <em>role</em> texture is to be bound to. Use <a class="el" href="classLibCarna_1_1presets_1_1VolumeRenderingStage.html#a42668c71d9a0aa521e015850f09869e9">configureShader</a> for custom shader configuration that goes beyond that. </p>

<p>Implemented in <a class="el" href="classLibCarna_1_1presets_1_1DRRStage.html#a55c10c26626d9a8b66de6e140ca051ea">LibCarna::presets::DRRStage</a>, <a class="el" href="classLibCarna_1_1presets_1_1DVRStage.html#a4a2a60f762707c6b6db4748acce33fbe">LibCarna::presets::DVRStage</a>, <a class="el" href="classLibCarna_1_1presets_1_1MaskRenderingStage.html#a9950e6eec2471f9a49472dcabb20846d">LibCarna::presets::MaskRenderingStage</a>, and <a class="el" href="classLibCarna_1_1presets_1_1MIPStage.html#a3efa37382a478268667b142f3baed41c">LibCarna::presets::MIPStage</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1ac69633c9ca2a1b0411b8d9d87db67d" name="a1ac69633c9ca2a1b0411b8d9d87db67d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ac69633c9ca2a1b0411b8d9d87db67d">&#9670;&#160;</a></span>DEFAULT_SAMPLE_RATE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int LibCarna::presets::VolumeRenderingStage::DEFAULT_SAMPLE_RATE = 200</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds the default number of slices rendered per segment. </p>

<p class="definition">Definition at line <a class="el" href="VolumeRenderingStage_8hpp_source.html#l00333">333</a> of file <a class="el" href="VolumeRenderingStage_8hpp_source.html">VolumeRenderingStage.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/LibCarna/presets/<a class="el" href="VolumeRenderingStage_8hpp_source.html">VolumeRenderingStage.hpp</a></li>
</ul>
</div><!-- contents -->
<hr class="footer"/>
    <address class="footer">
        <p>
            <small>
                Written by Leonid Kostrykin &copy; 2021&ndash;2025.
                Based on <a href="https://github.com/RWTHmediTEC/Carna">Carna</a> (&copy; 2010-2016).
            </small>
        </p>
        <small>
            Documentation generated by <a href="http://www.doxygen.org/index.html"> Doxygen </a>
        </small>
    </address>
</body>
</html>
